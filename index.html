<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brandon Lysholm's Portfolio</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.3/dist/flatly/bootstrap.min.css">
    <link rel="stylesheet" href="./styles/my_navbar.css">
</head>
<body>
<main>
<!--    Navbar-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary py-0">
        <div class="container-fluid">
            <div class="collapse navbar-collapse d-flex justify-content-center" id="navbarSupportedContent">
                <ul class="navbar-nav">
                    <li class="nav-item text-center">
                        <a class="nav-link" aria-current="page" href="web_dev.html">Web Development</a>
                    </li>
                    <img src="images/divider.jpg" class="flex-shrink"/>
                    <li class="nav-item text-center">
                        <a class="nav-link" aria-current="page" href="av_training.html">AV Training and Installation</a>
                    </li>
                    <img src="images/divider.jpg" class="flex-shrink"/>
                    <li class="nav-item text-center">
                        <a class="nav-link active" aria-current="page" href="#"><strong>Home</strong></a>
                    </li>
                    <img src="images/divider.jpg" class="flex-shrink"/>
                    <li class="nav-item text-center">
                        <a class="nav-link" aria-current="page" href="video.html">Video Production</a>
                    </li>
                    <img src="images/divider.jpg" class="flex-shrink"/>
                    <li class="nav-item text-center">
                        <a class="nav-link" aria-current="page" href="av_events.html">AV Tech for Events</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div>
        <!-- OVERVIEW ROW-->
        <div class="row justify-content-center m-3">
            <div class="col-md-2">
                <img class="img-fluid" src="./images/lowResPortrait.jpg" alt="Image of Brandon" />
            </div>
            <div class="col-md-5">
                <h1>Brandon Lysholm</h1>
                <h5>Web Developer and AV Tech that specializes in meeting the unique tech needs of churches.</h5>
                <p>
                    My approach for helping churches is to meet the church where they are at, address their pressing concerns
                    and provide a roadmap for the future. <br /> <br />
                    <a class="btn btn-primary" href="my_credentials.html">Learn More</a>
                </p>
            </div>
        </div>
        <div class="row">
            <h1 class="text-center mt-2">My Services:</h1>
        </div>
        <!-- SERVICES SECTION-->
        <div class="row align-items-stretch m-2">
            <!--WEB DEVELOPMENT SECTION-->
            <div id="webDevPrimary" class="col-md-3"  onmouseover="showDetails('webDev')" onmouseout="hideDetails('webDev')">
                <img class="img-fluid" src="./images/webDevTitle.jpg" alt="Images of code on a screen"/>
            </div>
            <div id="webDevSecondary" class="col-md-3 card" style="display:none" onmouseover="showDetails('webDev')" onmouseout="hideDetails('webDev')" >
                <div class="card-body">
                    <h2 class="card-title">Web Development</h2>
                    <p class="card-text">
                        With formal training in web development and experience maintaining church websites, I am qualified to help get your website working for you. <br/> <br />
                        Whether you need a complete redesign or just help maintaining the current website, I am excited to work with you.
                    </p>
                </div>
            </div>
            <!--AV TRAINING SECTION-->
            <div id="avTrainingPrimary" class="col-md-3" onmouseover="showDetails('avTraining')" onmouseout="hideDetails('avTraining')">
                <img class ="img-fluid" src="./images/trainingTitle.jpg" alt="Brandon training a sountech" />
            </div>
            <div id="avTrainingSecondary" class="col-md-3 card" style="display:none" onmouseover="showDetails('avTraining')" onmouseout="hideDetails('avTraining')" >
                <div class="card-body">
                    <h2 class="card-title">AV Training and Installation</h2>
                    <p class="card-text">
                        If your tech team needs further training, I am open to hosting a training workshop to help
                        them. My experience in training techs in church settings helps me understand how best to train
                        techs as well as what features of their equipment actually matters for running a smooth church
                        service.
                    </p>
                </div>
            </div>
            <!--VIDEO PRODUCTION SECTION-->
            <div id="videoPrimary" class="col-md-3"  onmouseover="showDetails('video')" onmouseout="hideDetails('video')">
                <img class="img-fluid" src="./images/videoTitle.jpg" alt="Images of code on a screen"/>
            </div>
            <div id="videoSecondary" class="col-md-3 card" style="display:none" onmouseover="showDetails('video')" onmouseout="hideDetails('video')" >
                <div class="card-body">
                    <h2 class="card-title">Video Production</h2>
                    <p class="card-text">
                        I have done both pre-recorded videos and livestreaming.
                    </p>
                </div>
            </div>
            <!--AV TRAINING SECTION-->
            <div id="avEventPrimary" class="col-md-3" onmouseover="showDetails('avEvent')" onmouseout="hideDetails('avEvent')">
                <img class ="img-fluid" src="./images/avTitle.jpg" alt="Brandon training a sountech" />
            </div>
            <div id="avEventSecondary" class="col-md-3 card" style="display:none" onmouseover="showDetails('avEvent')" onmouseout="hideDetails('avEvent')" >
                <div class="card-body">
                    <h2 class="card-title">AV Tech for Events</h2>
                    <p class="card-text">
                        I am experienced handling the tech for various events. If you need someone to help do sound
                        or livestream for an event, I am excited to work with you.
                    </p>
                </div>
            </div>
        </div>
        <!-- Insert section here of referrals -->
        <div class="row text-center">
            <h1>Reviews</h1>
        </div>
        <div class="container">
            <div class="row">
                <figure class="col-md-4">
                    <blockquote class="blockquote">
                        <p>
                            Brandon has done a phenomenal job 2 years in a row managing the sound, lights, and tech at
                            Horizon's NRG Youth Conference. From knowledgeable and efficient setup to managing live performances,
                            he demonstrated high capacity and creativity and I would highly recommend him in this field!
                        </p>
                    </blockquote>
                    <figcaption class="blockquote-footer">
                        <strong>Tyrone Dyck</strong><cite>College Ambassador, Horizon College & Seminary</cite>
                    </figcaption>
                </figure>
            </div>
        </div>
        <!-- Contact Section-->
        <div class="row justify-content-center mt-3 mb-2">
            <div class="col-md-6">
                <h2>Contact</h2>
                <form id="contactForm" enctype="text/plain" action="https://docs.google.com/forms/d/e/1FAIpQLSeWum7PtCOUbsv2Lp-DBQMO6ygT5-6o24TJhzzaHJn0gkPVeA/
formResponse?usp=pp_url&">
                    <div class="row mb-1">
                        <div class="col">
                            <input type="text" id="name" name="entry.882941231" placeholder="Name" class="form-control" />
                        </div>
                        <div class="col">
                            <input type="email" id="email" name="entry.1790766707" placeholder="Email" class="form-control"/>
                        </div>

                    </div>

                    <select name="entry.1048297172" class="form-control mb-1">
                        <option value="none"> -- Service -- </option>
                        <option value="webDev">Web Development</option>
                        <option value="avTraining">AV Training</option>
                        <option value="videoProduction">Video Production</option>
                        <option value="avEvent">AV Events</option>
                        <option value="other">Other</option>
                    </select>
                    <textarea name="entry.764703748" id="comment" placeholder="Message" class="form-control mb-1" rows="4"></textarea>'
                    <input type="submit" value="Submit" class="btn btn-primary" />
                </form>
            </div>
        </div>

    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script> <!-- adding in jquery -->
<!--    This script handles all the javascript throughout the page-->
    <script>
        // onload function
        window.onload = function() {
            window.alert('This webpage is under development');
            // This preloads all the images, so the hovers become more responsive
            let serviceSections = ['webDev', 'avTraining', 'videoProduction', 'avEvent'];
            serviceSections.forEach((element) => {
                showDetails(element);
                hideDetails(element);
            })

        }

        // Function to show the details pane of whatever section calls it on mouse over event
        function showDetails(section) {
            if (section == 'webDev') {
                primaryElement = document.getElementById('webDevPrimary')
                secondaryElement = document.getElementById('webDevSecondary')
                imgPath = './images/webDevBW.jpg'

            } else if(section == 'avTraining') {
                primaryElement = document.getElementById('avTrainingPrimary')
                secondaryElement = document.getElementById('avTrainingSecondary')
                imgPath = './images/avTrainingBW.jpg'
            } else if (section == 'video') {
                primaryElement = document.getElementById('videoPrimary')
                secondaryElement = document.getElementById('videoSecondary')
                imgPath = './images/videoBW.jpg'
            } else if (section == 'avEvent') {
                primaryElement = document.getElementById('avEventPrimary')
                secondaryElement = document.getElementById('avEventSecondary')
                imgPath = './images/avBW.jpg'
            }
            primaryElement.setAttribute('style', 'display:none')
            secondaryElement.removeAttribute('style')
            secondaryElement.setAttribute('style', "background: url('"+imgPath+"'); background-color: rgba(255,255,255,0.6);  background-size: cover; background-blend-mode: lighten;) ")
        }

        // function to hide the details pane of whatever section calls it on mouse leave event
        function hideDetails(section) {
            if (section == 'webDev') {
                primaryElement = document.getElementById('webDevPrimary')
                secondaryElement = document.getElementById('webDevSecondary')
            } else if(section == 'avTraining') {
                primaryElement = document.getElementById('avTrainingPrimary')
                secondaryElement = document.getElementById('avTrainingSecondary')
            } else if (section == 'video') {
                primaryElement = document.getElementById('videoPrimary')
                secondaryElement = document.getElementById('videoSecondary')
            } else if (section == 'avEvent') {
                primaryElement = document.getElementById('avEventPrimary')
                secondaryElement = document.getElementById('avEventSecondary')
            }
            primaryElement.removeAttribute('style')
            secondaryElement.setAttribute('style', 'display:none')
        }

        // Function to submit the form while also preventing page refresh
        $('#contactForm').on('submit', function(e) {
            // This is for displaying message
            $('#contactForm *').fadeOut(1000); // fading out 1s
            $('#contactForm').prepend('Your message has been sent.');
            // THis prevents the redirect
            e.preventDefault();
            // Generating the URL:
            let myURL = 'https://docs.google.com/forms/d/e/1FAIpQLSeWum7PtCOUbsv2Lp-DBQMO6ygT5-6o24TJhzzaHJn0gkPVeA/formResponse?usp=pp_url&'
            let nameVal = 'entry.882941231='+($('#name').val()).replaceAll(' ', '+');
            let emailVal = 'entry.1790766707='+$('#email').val();
            let selectVal = 'entry.1048297172='+$('#contactForm').find('option:selected').val();
            let commentVal = 'entry.764703748='+($('#comment').val()).replaceAll(' ','+');

            myURL += nameVal+'&'+emailVal+'&'+selectVal+'&'+commentVal;


            // This submits the data
            $.ajax({
                type: "POST",
                // Attempting to fix the CORS issue with the following:
                headers: {"Access-Control-Allow-Origin": "https://docs.google.com/forms/*",},
                // crossDomain: true,
                url: myURL,
                // Status codes appear to not be working - checked with the console logs
                // If I use the success or failure settings, it appears that 200 comes in as failure as
                // well due to CORS causing issues. I need to fix CORS to get this fully working
                statusCode: {
                    // Failure
                    400: function() {
                        console.log('Form failed');
                        // $('#contactForm').prepend('Your message has failed.');
                    },
                    // Success
                    200: function() {
                        console.log('Form succeeded');
                        // $('#contactForm').prepend('Your message has been sent.');
                    }
                }
            })

        })
    </script>
</main>
</body>
</html>

